local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local window = Rayfield:CreateWindow({
    Name = "Day In A Life Of A Small Roblox Developer - Alpha Hax",
    LoadingTitle = "Loading Assets..",
    LoadingSubtitle = "Created By Zale",
    ConfigurationSaving = {
        Enabled = false,
        FileName = "Sirius"
    },
    KeySystem = true,
    KeySettings = {
        Title = "Zale's Key System",
        Subtitle = "Enter Your Key",
        Note = "Rate The Features",
        FileName = "Sirius",
        SaveKey = false,
        Key = "2025"
    }
})

local metaverseTab = window:CreateTab("Metaverse")
local badgeSection = metaverseTab:CreateSection("Badge")

local Players = game:GetService("Players")
local SoundService = game:GetService("SoundService")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")

local function fireClickDetector(part)
    local clickDetector = part:FindFirstChildOfClass("ClickDetector")
    if clickDetector then
        fireclickdetector(clickDetector)
    end
end

local function equipTool(toolName)
    local tool = LocalPlayer.Backpack:FindFirstChild(toolName)
    if tool then
        tool.Parent = LocalPlayer.Character
    end
end

local function unequipTool(toolName)
    local tool = LocalPlayer.Character:FindFirstChild(toolName)
    if tool then
        tool.Parent = LocalPlayer.Backpack
    end
end

local function activateTool(toolName)
    local tool = LocalPlayer.Character:FindFirstChild(toolName)
    if tool and tool:IsA("Tool") then
        tool:Activate()
    end
end

local function teleportToSeat(modelName)
    local model = Workspace:FindFirstChild(modelName)
    if model then
        for _, part in pairs(model:GetDescendants()) do
            if part:IsA("Seat") then
                LocalPlayer.Character:MoveTo(part.Position)
                break
            end
        end
    end
end

local function onSoundPlay(sound, callback)
    sound:GetPropertyChangedSignal("Playing"):Connect(function()
        if sound.Playing then
            callback()
        end
    end)
end

metaverseTab:CreateButton({
    Name = "Auto Get Metaverse",
    Callback = function()
        local kitchen = Workspace:FindFirstChild("Kitchen")
        local fridge = kitchen and kitchen:FindFirstChild("Fridge")
        local hitBox = fridge and fridge:FindFirstChild("HitBox")
        if hitBox then
            fireClickDetector(hitBox)
        end

        local soundGroup = SoundService:FindFirstChild("TenVoiceLines")
        local microwaveHint = soundGroup and soundGroup:FindFirstChild("MicrowaveHint")
        local drinkBrewzuckiHint = soundGroup and soundGroup:FindFirstChild("DrinkBrewzuckiHint")
        local basementDoorHint = soundGroup and soundGroup:FindFirstChild("BasementDoorHint")
        local computerHint = soundGroup and soundGroup:FindFirstChild("ComputerHint")

        if microwaveHint then
            onSoundPlay(microwaveHint, function()
                local microwave = Workspace:FindFirstChild("Microwave")
                local hitBox = microwave and microwave:FindFirstChild("HitBox")
                if hitBox then fireClickDetector(hitBox) end

                local microwaveSound = microwave and microwave:FindFirstChild("MicrowaveSound")
                if microwaveSound then
                    microwaveSound:GetPropertyChangedSignal("Playing"):Connect(function()
                        if not microwaveSound.Playing then
                            if hitBox then fireClickDetector(hitBox) end
                        end
                    end)
                end
            end)
        end

        if drinkBrewzuckiHint then
            onSoundPlay(drinkBrewzuckiHint, function()
                equipTool("Brewzucki")
                activateTool("Brewzucki")
                unequipTool("Brewzucki")
            end)
        end

        if basementDoorHint then
            onSoundPlay(basementDoorHint, function()
                equipTool("Medium Rare Chicken")
                local basementTable = Workspace:FindFirstChild("BasementTable")
                local hitBox = basementTable and basementTable:FindFirstChild("HitBox")
                if hitBox then fireClickDetector(hitBox) end
            end)
        end

        if computerHint then
            onSoundPlay(computerHint, function()
                teleportToSeat("ComputerChair")
            end)
        end

        -- ⏱ Start 30-second timer when first "Popup_" is found
        local timerStarted = false
        local startTime = 0

        while true do
            wait()

            local playerGui = LocalPlayer:FindFirstChild("PlayerGui")
            local screenGui = playerGui and playerGui:FindFirstChild("RealComputerScreenGui")
            local computerScreen = screenGui and screenGui:FindFirstChild("ComputerScreen")
            local suggestionsQTE = computerScreen and computerScreen:FindFirstChild("SuggestionsQTE")
            local recyclingBin = suggestionsQTE and suggestionsQTE:FindFirstChild("RecyclingBin")

            if suggestionsQTE and recyclingBin then
                local foundPopup = false

                for _, child in pairs(suggestionsQTE:GetChildren()) do
                    if string.find(child.Name, "Popup_") then
                        foundPopup = true
                        child.Position = recyclingBin.Position
                    end
                end

                if foundPopup and not timerStarted then
                    timerStarted = true
                    startTime = tick()
                end

                if timerStarted and tick() - startTime >= 30 then
                    break
                end
            end
        end
    end,
    SectionParent = badgeSection
})
